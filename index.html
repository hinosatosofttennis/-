<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ワインテイスティングチェック - デモ</title>

  <!-- Tailwind Play CDN（開発・デモ用。実運用時はビルド導入を推奨）-->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React / ReactDOM（UMD） + Babel（JSXをブラウザで変換）-->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    /* 軽い追加スタイル */
    body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
    /* 履歴カードの開閉アニメーション */
    .collapse-enter { max-height: 0; opacity: 0; transition: max-height .22s ease, opacity .22s ease; overflow: hidden; }
    .collapse-enter-active { max-height: 800px; opacity: 1; }
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <div id="root" class="min-h-screen p-4"></div>

  <script type="text/babel">
  const { useState, useEffect } = React;

  const SECTIONS = [
    {
      key: "visual",
      title: "見る (Visual)",
      items: [
        "色は？（レモン/ゴールド/琥珀等）",
        "輝きや透明感はある？",
        "グラスを傾けたときの涙（脚）は？（多い/少ない）"
      ]
    },
    {
      key: "nose",
      title: "香る (Nose)",
      items: [
        "第一印象を感じた？",
        "スワリングして香りを広げた？",
        "果実や花の香りは？（柑橘/ベリー/白い花等）",
        "その他の香り（バニラ/スパイス/土/蜂蜜等）は？"
      ]
    },
    {
      key: "palate",
      title: "味わう (Palate)",
      items: [
        "酸味は？（爽やか/穏やか）",
        "甘みは？（辛口/やや甘口/甘口）",
        "渋み（タンニン）は？（なめらか/しっかり）",
        "アルコール感は？（軽やか/温かみ/強い）",
        "余韻は？（短い/中くらい/長い）"
      ]
    },
    {
      key: "impression",
      title: "まとめ (Impression)",
      items: [
        "軽快？エレガント？力強い？",
        "好きなタイプだった？",
        "合わせたい料理は何？"
      ]
    }
  ];

  const STORAGE_KEY = "wineTastingHistory_v1";

  function useLocalHistory() {
    const [history, setHistory] = useState([]);
    useEffect(() => {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (raw) setHistory(JSON.parse(raw));
      } catch (e) {
        console.error("localStorage読み込みエラー", e);
      }
    }, []);
    useEffect(() => {
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(history));
      } catch (e) {
        console.error("localStora
